#!/usr/bin/env php
<?php
/**
 * Inline Games - Telegram Bot (@inlinegamesbot)
 *
 * (c) 2017 Jack'lul <jacklulcat@gmail.com>
 *
 * For the full copyright and license information, please view
 * the LICENSE file that was distributed with this source code.
 */

use Longman\TelegramBot\Exception\TelegramException;
use Longman\TelegramBot\Exception\TelegramLogException;
use Longman\TelegramBot\TelegramLog;
use TelegramBot\TelegramBotManager\BotManager;

/**
 * Define root path
 */
define("ROOT_PATH", realpath(__DIR__ . '/../'));

/**
 * Load bootstrapper
 */
require_once ROOT_PATH . '/app/bootstrap.php';

/**
 * Run the bot
 */
try {
    $bot = new BotManager((isset($config) ? $config:[]));
    $bot->run();
} catch (TelegramLogException $e) {
    error_log($e->getMessage() . PHP_EOL);
} catch (TelegramException $e) {
    TelegramLog::error($e);
} catch (Exception $e) {
    TelegramLog::error($e);
} catch (Throwable $e) {
    TelegramLog::error($e);
}
